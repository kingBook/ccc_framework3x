const _0x23e3=['new-msg','__esModule','transferred','url','defineProperty',':panel-win-state-changed','ipcRenderer','progressCallback','percent','download-succeeded','is-ready','download-with-progress','download','replace','off','__importDefault','random','type','select-file','path','download-progress','download-failed','default','../../constant/namespace','toString','fileName','now','undefined','readFile','basename','function','electron','callId','xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx','errorStr','total','sendToHost'];(function(_0x46bf94,_0xf53180){const _0x23e352=function(_0x4f7317){while(--_0x4f7317){_0x46bf94['push'](_0x46bf94['shift']());}};_0x23e352(++_0xf53180);}(_0x23e3,0xb2));const _0x4f73=function(_0x46bf94,_0xf53180){_0x46bf94=_0x46bf94-0x1ae;let _0x23e352=_0x23e3[_0x46bf94];return _0x23e352;};const _0x4904e4=_0x4f73;'use strict';var __importDefault=this&&this[_0x4904e4(0x1c4)]||function(_0x72e315){return _0x72e315&&_0x72e315['__esModule']?_0x72e315:{'default':_0x72e315};};Object[_0x4904e4(0x1b9)](exports,_0x4904e4(0x1b6),{'value':!0x0});const fs_1=__importDefault(require('fs')),fsPromises=fs_1[_0x4904e4(0x1cb)]['promises'],path_1=__importDefault(require(_0x4904e4(0x1c8))),namespace_1=require(_0x4904e4(0x1cc)),electron_1=require(_0x4904e4(0x1af)),pluginVersion=electron_1[_0x4904e4(0x1bb)]['sendSync'](namespace_1['ns']+':get-version'),globalAny=global;let panelWinStateChangedListener=null;function uuid(){const _0x470cf6=_0x4904e4;let _0x5547b0=Date['now']();return _0x470cf6(0x1d0)!=typeof performance&&_0x470cf6(0x1ae)==typeof performance[_0x470cf6(0x1cf)]&&(_0x5547b0+=performance[_0x470cf6(0x1cf)]()),_0x470cf6(0x1b1)[_0x470cf6(0x1c2)](/[xy]/g,function(_0x4efc56){const _0x2e7096=_0x470cf6;var _0x8dd960=(_0x5547b0+0x10*Math[_0x2e7096(0x1c5)]())%0x10|0x0;return _0x5547b0=Math['floor'](_0x5547b0/0x10),('x'===_0x4efc56?_0x8dd960:0x3&_0x8dd960|0x8)[_0x2e7096(0x1cd)](0x10);});}electron_1[_0x4904e4(0x1bb)]['on'](namespace_1['ns']+_0x4904e4(0x1ba),(_0x403631,_0x353210)=>{panelWinStateChangedListener&&panelWinStateChangedListener(_0x353210);}),globalAny['hostAPI']={'imPluginVersion':pluginVersion,'sendToHost':(_0x2dd221,_0x1031f9)=>{const _0x5269c3=_0x4904e4;_0x5269c3(0x1b5)===_0x2dd221?electron_1[_0x5269c3(0x1bb)]['sendToHost'](_0x5269c3(0x1b5),{'newMsgCount':_0x1031f9}):'download'===_0x2dd221&&electron_1[_0x5269c3(0x1bb)][_0x5269c3(0x1b4)](_0x5269c3(0x1c1),{'url':_0x1031f9[_0x5269c3(0x1b8)],'type':_0x1031f9[_0x5269c3(0x1c6)],'fileName':_0x1031f9[_0x5269c3(0x1ce)]});},'isReady'(_0x315e5a){const _0x4540e8=_0x4904e4;electron_1[_0x4540e8(0x1bb)][_0x4540e8(0x1b4)](_0x4540e8(0x1bf),_0x315e5a);},'setWindowListener'(_0x1ceb16){panelWinStateChangedListener=_0x1ceb16;},'selectFile':async _0x41e1d5=>new Promise((_0x5ddb66,_0x2007c9)=>{const _0x3d5f9c=_0x4904e4;electron_1[_0x3d5f9c(0x1bb)]['once']('file-selected',function(_0x2faa6f,_0x16b7ac){_0x16b7ac?async function(_0x391b25){const _0x2d1344=_0x4f73,_0x15d79a=path_1[_0x2d1344(0x1cb)][_0x2d1344(0x1d2)](_0x391b25),_0x9edc0f=await fsPromises[_0x2d1344(0x1d1)](_0x391b25);return new File([_0x9edc0f],_0x15d79a);}(_0x16b7ac)['then'](_0x5ddb66):_0x5ddb66('');}),electron_1[_0x3d5f9c(0x1bb)][_0x3d5f9c(0x1b4)](_0x3d5f9c(0x1c7),{'type':_0x41e1d5});}),'downloadWithProgress':async _0x41a3b=>new Promise((_0x3fe080,_0x40063a)=>{const _0x563567=_0x4904e4,_0x1569a2=uuid();function _0x326f9f(_0x55786d,_0x5dad68){const _0x55d648=_0x4f73;_0x5dad68[_0x55d648(0x1b0)]===_0x1569a2&&(0x1==_0x5dad68[_0x55d648(0x1bd)]&&_0x5dad68[_0x55d648(0x1b7)]!==_0x5dad68[_0x55d648(0x1b3)]||_0x41a3b[_0x55d648(0x1bc)]&&_0x41a3b[_0x55d648(0x1bc)]({'percent':_0x5dad68[_0x55d648(0x1bd)],'transferred':_0x5dad68[_0x55d648(0x1b7)],'total':_0x5dad68[_0x55d648(0x1b3)]}));}function _0x29c9f4(_0x1b0507,_0x368059){_0x368059===_0x1569a2&&_0x44af02({'status':'succeeded'});}function _0x2e1e56(_0x9be67b,_0x10ed61){const _0x4c2ff6=_0x4f73;_0x10ed61[_0x4c2ff6(0x1b0)]===_0x1569a2&&_0x44af02({'status':'failed','errorStr':_0x10ed61[_0x4c2ff6(0x1b2)]});}function _0x219893(_0x5e29e5,_0x50d1a5){_0x50d1a5===_0x1569a2&&_0x44af02({'status':'canceled'});}function _0x44af02(_0x5b498c){const _0x4cfcec=_0x4f73;_0x3fe080(_0x5b498c),electron_1[_0x4cfcec(0x1bb)][_0x4cfcec(0x1c3)](_0x4cfcec(0x1c9),_0x326f9f),electron_1[_0x4cfcec(0x1bb)]['off'](_0x4cfcec(0x1be),_0x29c9f4),electron_1[_0x4cfcec(0x1bb)][_0x4cfcec(0x1c3)](_0x4cfcec(0x1ca),_0x2e1e56),electron_1[_0x4cfcec(0x1bb)][_0x4cfcec(0x1c3)]('download-canceled',_0x219893);}electron_1[_0x563567(0x1bb)][_0x563567(0x1b4)](_0x563567(0x1c0),{'url':_0x41a3b['url'],'type':_0x41a3b['type'],'fileName':_0x41a3b[_0x563567(0x1ce)],'callId':_0x1569a2}),electron_1[_0x563567(0x1bb)]['on'](_0x563567(0x1c9),_0x326f9f),electron_1[_0x563567(0x1bb)]['on'](_0x563567(0x1be),_0x29c9f4),electron_1[_0x563567(0x1bb)]['on'](_0x563567(0x1ca),_0x2e1e56),electron_1[_0x563567(0x1bb)]['on']('download-canceled',_0x219893);})};